{
    "name": "Spring Boot GraphQL App Generator",
    "description": "Code generator that creates a Spring Boot app from a graphql schema.",
    "tags": [ "java", "Spring Boot", "graphql" ],
    "params": [
      {
        "name": "appName",
        "type": "text",
        "defaultValue": "demo",
        "description": "ie: example-api",
        "label": "Application Name",
        "required": true
      },
      {
        "name": "packageName",
        "type": "text",
        "defaultValue": "com.demo",
        "description": "ie: com.example.app",
        "required": true
      },
      {
        "name": "javaVersion",
        "type": "select",
        "values": [
          8, 11, 17
        ],
        "defaultValue": 11,
        "required": true
      },
      {
        "name": "idClass",
        "type": "select",
        "defaultValue": "String",
        "values": [ "String", "Integer"  ],
        "description": "Java class used for GraphQL ID fields"
      },
      {
        "name": "typeMappings",
        "required": true,
        "type": "file",
        "fileType": "json",
        "defaultValue": "{\"ID\":\"String\", \"Int\":\"Integer\", \"String\":\"String\"}",
        "description": "GraphQL to Java type mapping in JSON"
      },
      {
        "name": "graphql",
        "type": "file",
        "fileType": "graphql",
        "description": "Paste your GraphQL schema here",
        "required": true
      }
    ],
    "preProcessing": {
      "pathReplacements": [
        { "target":  "demo-app", "replacement":  "{{appName}}"},
        { "target":  "com/demo", "replacement":  "{{strReplace packageName '.' '/'}}"},
        { "target":  "DemoApplication", "replacement":  "{{CamelCase appName}}Application"}
      ],
      "textReplacements": [
        { "target":  "demo-app", "replacement":  "{{appName}}"},
        { "target":  "com.demo", "replacement":  "{{packageName}}"},
        { "target":  "DemoApplication", "replacement":  "{{CamelCase appName}}Application"},
        { "target":  "GraphqlType", "replacement":  "{{_key}}"},
        { "target":  "//#", "replacement":  ""}
      ]
    },
    "files": {
      "demo-app/.mvn": {
        "static": true
      },
      "demo-app/src/main/java/com/demo/domain/GraphqlType.java": {
        "iteratorJsonPath": "graphql.json.definitions",
        "fileNameExpr": "{{@key}}.java",
        "condition": "_key 'notIn' (array 'String' 'Boolean' 'Int' 'ID')"
      },
      "demo-app/src/main/java/com/demo/repository/GraphqlTypeRepository.java": {
        "iteratorJsonPath": "graphql.json.definitions",
        "fileNameExpr": "{{@key}}Repository.java",
        "condition": "_key 'notIn' (array 'String' 'Boolean' 'Int' 'ID')"
      }
    }
}